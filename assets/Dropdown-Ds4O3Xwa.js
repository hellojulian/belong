import{j as t}from"./jsx-runtime-BDqaA1IU.js";import{u as V,a as X,b as Y,c as Z,F as _,d as $}from"./floating-ui.react-BeSb3Qk3.js";import{r as o}from"./index-D3g0PtM7.js";import{n as P,o as ee,e as te,h as oe}from"./index-Cfm4aYrO.js";import{t as g}from"./bundle-mjs-CsYRq7or.js";import{m as S,g as ne}from"./index-DvTNjOXU.js";import{u as se,a as ae}from"./use-floating-C5Wvtv5S.js";import{a as re,B as ie}from"./Button-BBo6iamC.js";const H=o.createContext(void 0);function C(){const e=o.useContext(H);if(!e)throw new Error("useDropdownContext should be used within the DropdownContext provider!");return e}const R=({className:e,theme:a={},...r})=>{const{theme:i}=C(),s=a.divider??i.floating.divider;return t.jsx("div",{className:g(s,e),...r})},O=({children:e,className:a,theme:r={},...i})=>{const{theme:s}=C(),c=r.header??s.floating.header;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:g(c,a),...i,children:e}),t.jsx(R,{})]})},T=o.forwardRef(({children:e,className:a,icon:r,onClick:i,theme:s={},...c},l)=>{const{ref:u,index:p}=V({label:typeof e=="string"?e:void 0}),d=X([l,u]),{theme:m,activeIndex:f,dismissOnClick:b,getItemProps:j,handleSelect:x}=C(),w=f===p,n=S(m.floating.item,s),D=c;return t.jsx("li",{role:"menuitem",className:n.container,children:t.jsxs(re,{ref:d,className:g(n.base,a),...D,...j({onClick:()=>{i?.(),b&&x(null)}}),tabIndex:w?0:-1,children:[r&&t.jsx(r,{className:n.icon}),e]})})});T.displayName="DropdownItem";const ce={top:ee,right:te,bottom:P,left:oe},le=({refs:e,children:a,inline:r,theme:i,disabled:s,setButtonWidth:c,getReferenceProps:l,renderTrigger:u,...p})=>{const d=e.reference,m=l();if(o.useEffect(()=>{d.current&&c?.(d.current.clientWidth)},[d,c]),u){const f=u(i);return o.cloneElement(f,{ref:e.setReference,disabled:s,...m,...f.props})}return r?t.jsx("button",{type:"button",ref:e.setReference,className:i?.inlineWrapper,disabled:s,...m,children:a}):t.jsx(ie,{...p,disabled:s,type:"button",ref:e.setReference,...m,children:a})},E=({children:e,className:a,dismissOnClick:r=!0,theme:i={},renderTrigger:s,...c})=>{const[l,u]=o.useState(!1),[p,d]=o.useState(null),[m,f]=o.useState(null),[b,j]=o.useState(void 0),x=o.useRef([]),w=o.useRef([]),n=S(ne().dropdown,i),D=c,M=c["data-testid"]||"flowbite-dropdown-target",{placement:I=c.inline?"bottom-start":"bottom",trigger:k="click",label:B,inline:L,arrowIcon:W=!0,...y}=D,N=o.useCallback(h=>{f(h),u(!1)},[]),A=o.useCallback(h=>{l?d(h):N(h)},[l,N]),{context:v,floatingStyles:U,refs:F}=se({open:l,setOpen:u,placement:I}),q=Y(v,{listRef:x,activeIndex:p,selectedIndex:m,onNavigate:d}),z=Z(v,{listRef:w,activeIndex:p,selectedIndex:m,onMatch:A}),{getReferenceProps:G,getFloatingProps:J,getItemProps:K}=ae({context:v,role:"menu",trigger:k,interactions:[q,z]}),Q=o.useMemo(()=>{const[h]=I.split("-");return ce[h]??P},[I]);return t.jsxs(H.Provider,{value:{theme:n,activeIndex:p,dismissOnClick:r,getItemProps:K,handleSelect:N},children:[t.jsxs(le,{...y,refs:F,inline:L,theme:n,"data-testid":M,className:g(n.floating.target,y.className),setButtonWidth:j,getReferenceProps:G,renderTrigger:s,children:[B,W&&t.jsx(Q,{className:n.arrowIcon})]}),l&&t.jsx(_,{context:v,modal:!1,children:t.jsx("div",{ref:F.setFloating,style:{...U,minWidth:b},"data-testid":"flowbite-dropdown","aria-expanded":l,...J({className:g(n.floating.base,n.floating.animation,"duration-100",!l&&n.floating.hidden,n.floating.style.auto,a)}),children:t.jsx($,{elementsRef:x,labelsRef:w,children:t.jsx("ul",{className:n.content,tabIndex:-1,children:e})})})})]})};E.displayName="Dropdown";O.displayName="Dropdown.Header";R.displayName="Dropdown.Divider";const we=Object.assign(E,{Item:T,Header:O,Divider:R});export{we as D};
