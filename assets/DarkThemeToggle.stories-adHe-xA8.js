import{j as n}from"./jsx-runtime-BDqaA1IU.js";import{s as E,a as p,b,m as w,g as j}from"./index-DvTNjOXU.js";import{r as d}from"./index-D3g0PtM7.js";import{i as L}from"./is-client-Do6V6AqB.js";import{i as v,j as y}from"./index-Cfm4aYrO.js";import{t as m}from"./bundle-mjs-CsYRq7or.js";import"./iconBase-DeIphD-G.js";function C({theme:e}){return E(e),null}const I=({key:e,onChange:o})=>{function r({key:s,newValue:c}){s===e&&o(c)}d.useEffect(()=>(window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)),[])},l="light",h="flowbite-theme-mode",u="flowbite-theme-mode-sync",S=()=>{const[e,o]=d.useState(F(p()));d.useEffect(()=>{T(e),k(e)},[]),I({key:h,onChange(t){if(t)return r(t)}}),_(t=>o(t));const r=t=>{o(t),T(t),k(t),document.dispatchEvent(new CustomEvent(u,{detail:t}))},s=()=>{let t=e;t==="auto"&&(t=g(t)),t=t==="dark"?"light":"dark",r(t)},c=()=>{const t=p()??l;r(t)};return{mode:e,computedMode:g(e),setMode:r,toggleMode:s,clearMode:c}},_=e=>{d.useEffect(()=>{function o(r){const s=r.detail;e(s)}return document.addEventListener(u,o),()=>document.removeEventListener(u,o)},[])},T=e=>localStorage.setItem(h,e),k=e=>{g(e)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},F=e=>L()?localStorage.getItem(h)??e??l:l,g=e=>e==="auto"?N():e,N=()=>window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";function O({mode:e}){return e&&b(e),S(),null}function H({theme:e}){return E(e),null}function A({mode:e,theme:o}){return n.jsxs(n.Fragment,{children:[n.jsx(O,{mode:e}),n.jsx(H,{theme:o}),n.jsx(C,{theme:o})]})}const D=({children:e,theme:o})=>n.jsxs(n.Fragment,{children:[n.jsx(A,{mode:o?.mode,theme:o?.theme}),e]});D.displayName="Flowbite";function R(){const[e,o]=d.useState(!1);return d.useEffect(()=>o(!0),[]),e}const f=({className:e,theme:o={},iconDark:r=v,iconLight:s=y,...c})=>{const t=R(),{computedMode:M,toggleMode:x}=S(),i=w(j().darkThemeToggle,o);return n.jsxs("button",{type:"button","aria-label":"Toggle dark mode","data-testid":"dark-theme-toggle",className:m(i.root.base,e),onClick:x,...c,children:[n.jsx(r,{"aria-label":"Currently dark mode","data-active":t&&M==="dark",className:m(i.root.icon,"hidden dark:block")}),n.jsx(s,{"aria-label":"Currently light mode","data-active":t&&M==="light",className:m(i.root.icon,"dark:hidden")})]})};f.displayName="DarkThemeToggle";const J={title:"Components/DarkThemeToggle",component:f},U=e=>n.jsx(D,{children:n.jsx(f,{...e})}),a=U.bind({});a.storyName="Default";a.args={};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:`args => <Flowbite>
    <DarkThemeToggle {...args} />
  </Flowbite>`,...a.parameters?.docs?.source}}};const K=["DefaultDarkThemeToggle"];export{a as DefaultDarkThemeToggle,K as __namedExportsOrder,J as default};
