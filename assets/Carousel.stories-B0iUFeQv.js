import{j as t}from"./jsx-runtime-BDqaA1IU.js";import{r as a,R as F}from"./index-D3g0PtM7.js";import{h as W,e as B}from"./index-Cfm4aYrO.js";import{t as N}from"./bundle-mjs-CsYRq7or.js";import{d as H,c as X}from"./index-BTjGzcI7.js";import{i as G}from"./is-client-Do6V6AqB.js";import{m as L,g as T}from"./index-DvTNjOXU.js";import"./iconBase-DeIphD-G.js";const Y=300,J=0;class K extends a.PureComponent{static defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},buttons:[J]};container;scrolling;started;pressed;isMobile=!1;internal;scrollLeft;scrollTop;clientX;clientY;constructor(e){super(e),this.container=F.createRef(),this.onEndScroll=H(this.onEndScroll,Y),this.scrolling=!1,this.started=!1,this.pressed=!1,this.internal=!1,this.getRef=this.getRef.bind(this)}componentDidMount(){const{nativeMobileScroll:e}=this.props,s=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),s.addEventListener("touchstart",this.onTouchStart,{passive:!1}),s.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())}componentWillUnmount(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)}getElement(){return this.container.current}isMobileDevice(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1}isDraggable(e){const s=this.props.ignoreElements;if(s){const o=e.closest(s);return o===null||o.contains(this.getElement())}else return!0}isScrollable(){const e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)}onEndScroll=()=>{this.scrolling=!1,!this.pressed&&this.started&&this.processEnd()};onScroll=()=>{const e=this.container.current;(e.scrollLeft!==this.scrollLeft||e.scrollTop!==this.scrollTop)&&(this.scrolling=!0,this.processScroll(),this.onEndScroll())};onTouchStart=e=>{const{nativeMobileScroll:s}=this.props;if(this.isDraggable(e.target))if(this.internal=!0,s&&this.scrolling)this.pressed=!0;else{const o=e.touches[0];this.processClick(o.clientX,o.clientY),!s&&this.props.stopPropagation&&e.stopPropagation()}};onTouchEnd=()=>{const{nativeMobileScroll:e}=this.props;this.pressed&&(this.started&&(!this.scrolling||!e)?this.processEnd():this.pressed=!1,this.forceUpdate())};onTouchMove=e=>{const{nativeMobileScroll:s}=this.props;if(this.pressed&&(!s||!this.isMobile)){const o=e.touches[0];o&&this.processMove(o.clientX,o.clientY),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()}};onMouseDown=e=>{this.isDraggable(e.target)&&this.isScrollable()&&(this.internal=!0,this.props?.buttons?.indexOf(e.button)!==-1&&(this.processClick(e.clientX,e.clientY),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()))};onMouseMove=e=>{this.pressed&&(this.processMove(e.clientX,e.clientY),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation())};onMouseUp=e=>{this.pressed&&(this.started?this.processEnd():(this.internal=!1,this.pressed=!1,this.forceUpdate(),this.props.onClick&&this.props.onClick(e)),e.preventDefault(),this.props.stopPropagation&&e.stopPropagation())};processClick(e,s){const o=this.container.current;this.scrollLeft=o?.scrollLeft,this.scrollTop=o?.scrollTop,this.clientX=e,this.clientY=s,this.pressed=!0}processStart(e=!0){const{onStartScroll:s}=this.props;this.started=!0,e&&document.body.classList.add("cursor-grab"),s&&s({external:!this.internal}),this.forceUpdate()}processScroll(){if(this.started){const{onScroll:e}=this.props;e&&e({external:!this.internal})}else this.processStart(!1)}processMove(e,s){const{horizontal:o,vertical:h,activationDistance:c,onScroll:g}=this.props,u=this.container.current;this.started?(o&&(u.scrollLeft-=e-this.clientX),h&&(u.scrollTop-=s-this.clientY),g&&g({external:!this.internal}),this.clientX=e,this.clientY=s,this.scrollLeft=u.scrollLeft,this.scrollTop=u.scrollTop):(o&&Math.abs(e-this.clientX)>c||h&&Math.abs(s-this.clientY)>c)&&(this.clientX=e,this.clientY=s,this.processStart())}processEnd(){const{onEndScroll:e}=this.props;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("cursor-grab"),this.forceUpdate()}getRef(e){[this.container,this.props.innerRef].forEach(s=>{s&&(typeof s=="function"?s(e):s.current=e)})}render(){const{children:e,draggingClassName:s,className:o,style:h,hideScrollbars:c}=this.props;return t.jsx("div",{className:X(o,this.pressed&&s,{"!scroll-auto [&>*]:pointer-events-none [&>*]:cursor-grab":this.pressed,"overflow-auto":this.isMobile,"overflow-hidden !overflow-x-hidden [overflow:-moz-scrollbars-none] [scrollbar-width:none]":c,"[&::-webkit-scrollbar]:[-webkit-appearance:none !important] [&::-webkit-scrollbar]:!hidden [&::-webkit-scrollbar]:!h-0 [&::-webkit-scrollbar]:!w-0 [&::-webkit-scrollbar]:!bg-transparent":c}),style:h,ref:this.getRef,onScroll:this.onScroll,children:e})}}const D=({children:l,indicators:e=!0,leftControl:s,rightControl:o,slide:h=!0,draggable:c=!0,slideInterval:g,className:u,theme:E={},onSlideChange:C=null,pauseOnHover:y=!1,...O})=>{const i=L(T().carousel,E),_=G()&&navigator.userAgent.indexOf("IEMobile")!==-1,n=a.useRef(null),[f,I]=a.useState(0),[v,A]=a.useState(!1),[k,M]=a.useState(!1),R=a.useRef(!1),p=a.useMemo(()=>a.Children.map(l,r=>a.cloneElement(r,{className:N(i.item.base,r.props.className)})),[l,i.item.base]),w=a.useCallback(r=>()=>{p&&(r=(r+p.length)%p.length,n.current&&(n.current.scrollLeft=n.current.clientWidth*r),I(r))},[p]);a.useEffect(()=>{n.current&&!v&&n.current.scrollLeft!==0&&I(Math.round(n.current.scrollLeft/n.current.clientWidth))},[v]),a.useEffect(()=>{if(h&&!(y&&k)){const r=setInterval(()=>!v&&w(f+1)(),g??3e3);return()=>clearInterval(r)}},[f,v,w,h,g,y,k]),a.useEffect(()=>{R.current?C&&C(f):R.current=!0},[C,f]);const U=r=>()=>A(r),q=a.useCallback(()=>M(!0),[M]),P=a.useCallback(()=>M(!1),[M]);return t.jsxs("div",{className:N(i.root.base,u),"data-testid":"carousel",onMouseEnter:q,onMouseLeave:P,onTouchStart:q,onTouchEnd:P,...O,children:[t.jsx(K,{className:N(i.scrollContainer.base,(_||!v)&&i.scrollContainer.snap),draggingClassName:"cursor-grab",innerRef:n,onEndScroll:U(!1),onStartScroll:U(c),vertical:!1,horizontal:c,children:p?.map((r,d)=>t.jsx("div",{className:i.item.wrapper[c?"on":"off"],"data-active":f===d,"data-testid":"carousel-item",children:r},d))}),e&&t.jsx("div",{className:i.indicators.wrapper,children:p?.map((r,d)=>t.jsx("button",{className:N(i.indicators.base,i.indicators.active[d===f?"on":"off"]),onClick:w(d),"data-testid":"carousel-indicator","aria-label":`Slide ${d+1}`},d))}),p&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:i.root.leftControl,children:t.jsx("button",{className:"group","data-testid":"carousel-left-control",onClick:w(f-1),type:"button","aria-label":"Previous slide",children:s||t.jsx(z,{theme:E})})}),t.jsx("div",{className:i.root.rightControl,children:t.jsx("button",{className:"group","data-testid":"carousel-right-control",onClick:w(f+1),type:"button","aria-label":"Next slide",children:o||t.jsx($,{theme:E})})})]})]})},z=({theme:l={}})=>{const e=L(T().carousel,l);return t.jsx("span",{className:e.control.base,children:t.jsx(W,{className:e.control.icon})})},$=({theme:l={}})=>{const e=L(T().carousel,l);return t.jsx("span",{className:e.control.base,children:t.jsx(B,{className:e.control.icon})})};D.displayName="Carousel";const re={title:"Components/Carousel",component:D},j=l=>t.jsx("div",{className:"h-56 max-w-sm sm:h-64 xl:h-80 2xl:h-96",children:t.jsxs(D,{...l,children:[t.jsx("img",{className:"object-cover w-full h-full",src:"https://images.ctfassets.net/5lof7tf0p7b8/i4qbTGCOk3092M1DS7yMM/7e76b4c09900a15cbbde654ada58b047/A-plea-to-dad.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70",alt:"..."}),t.jsx("img",{className:"object-cover w-full h-full",src:"https://images.ctfassets.net/5lof7tf0p7b8/CmJSHTKj8v2vCcEND5Th0/6c8f717a54c9c01b8558e6dbaa5b8253/PrimaryBanner_SecondLifeShop_1800x1020px.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70",alt:"..."}),t.jsx("img",{className:"object-cover w-full h-full",src:"https://images.ctfassets.net/5lof7tf0p7b8/2RG1IB5Au9OwSULf8X4yFU/c8ff74b89b747bfa59bff7c0d35cd495/Featured-Image-Waterbear.jpg?w=2048&fm=webp&q=70",alt:"..."})]})}),S=j.bind({});S.args={};const m=j.bind({});m.storyName="Slide interval";m.args={slideInterval:5e3};const x=j.bind({});x.args={slide:!1};const b=j.bind({});b.storyName="With no indicators";b.args={indicators:!1};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`args => <div className="h-56 max-w-sm sm:h-64 xl:h-80 2xl:h-96">
    <Carousel {...args}>
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/i4qbTGCOk3092M1DS7yMM/7e76b4c09900a15cbbde654ada58b047/A-plea-to-dad.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/CmJSHTKj8v2vCcEND5Th0/6c8f717a54c9c01b8558e6dbaa5b8253/PrimaryBanner_SecondLifeShop_1800x1020px.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/2RG1IB5Au9OwSULf8X4yFU/c8ff74b89b747bfa59bff7c0d35cd495/Featured-Image-Waterbear.jpg?w=2048&fm=webp&q=70" alt="..." />
    </Carousel>
  </div>`,...S.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`args => <div className="h-56 max-w-sm sm:h-64 xl:h-80 2xl:h-96">
    <Carousel {...args}>
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/i4qbTGCOk3092M1DS7yMM/7e76b4c09900a15cbbde654ada58b047/A-plea-to-dad.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/CmJSHTKj8v2vCcEND5Th0/6c8f717a54c9c01b8558e6dbaa5b8253/PrimaryBanner_SecondLifeShop_1800x1020px.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/2RG1IB5Au9OwSULf8X4yFU/c8ff74b89b747bfa59bff7c0d35cd495/Featured-Image-Waterbear.jpg?w=2048&fm=webp&q=70" alt="..." />
    </Carousel>
  </div>`,...m.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`args => <div className="h-56 max-w-sm sm:h-64 xl:h-80 2xl:h-96">
    <Carousel {...args}>
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/i4qbTGCOk3092M1DS7yMM/7e76b4c09900a15cbbde654ada58b047/A-plea-to-dad.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/CmJSHTKj8v2vCcEND5Th0/6c8f717a54c9c01b8558e6dbaa5b8253/PrimaryBanner_SecondLifeShop_1800x1020px.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/2RG1IB5Au9OwSULf8X4yFU/c8ff74b89b747bfa59bff7c0d35cd495/Featured-Image-Waterbear.jpg?w=2048&fm=webp&q=70" alt="..." />
    </Carousel>
  </div>`,...x.parameters?.docs?.source}}};b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:`args => <div className="h-56 max-w-sm sm:h-64 xl:h-80 2xl:h-96">
    <Carousel {...args}>
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/i4qbTGCOk3092M1DS7yMM/7e76b4c09900a15cbbde654ada58b047/A-plea-to-dad.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/CmJSHTKj8v2vCcEND5Th0/6c8f717a54c9c01b8558e6dbaa5b8253/PrimaryBanner_SecondLifeShop_1800x1020px.png?w=1764&h=992&fit=fill&f=face&fm=webp&q=70" alt="..." />
      <img className="object-cover w-full h-full" src="https://images.ctfassets.net/5lof7tf0p7b8/2RG1IB5Au9OwSULf8X4yFU/c8ff74b89b747bfa59bff7c0d35cd495/Featured-Image-Waterbear.jpg?w=2048&fm=webp&q=70" alt="..." />
    </Carousel>
  </div>`,...b.parameters?.docs?.source}}};const ie=["Default","SlideInterval","Static","WithNoIndicators"];export{S as Default,m as SlideInterval,x as Static,b as WithNoIndicators,ie as __namedExportsOrder,re as default};
